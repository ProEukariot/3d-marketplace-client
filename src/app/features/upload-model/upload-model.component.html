<form [formGroup]="addModelForm" class="flex flex-col m-4">
  <mat-form-field>
    <mat-label>Name</mat-label>
    <input matInput type="text" formControlName="name" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Amount</mat-label>
    <input matInput type="number" formControlName="amount" />
    <span matTextPrefix>$&nbsp;</span>
  </mat-form-field>

  <mat-form-field>
    <button mat-icon-button matPrefix (click)="fileInput.click()" class="ms-2">
      <mat-icon>attach_file</mat-icon>
    </button>
    <input type="text" matInput readonly formControlName="fileName" />
    <button matTextSuffix mat-button (click)="addFiles(fileInput)">Add</button>
    <input
      #fileInput
      type="file"
      hidden
      multiple
      (change)="handleFileInputChange(fileInput.files)"
    />
  </mat-form-field>

  <mat-list class="p-0">
    <ng-container *ngFor="let file of files; index as i">
      <mat-list-item>
        <span>{{ file.name }} {{ file.size }}</span>
        <button
          matListItemMeta
          mat-icon-button
          (click)="removeFiles(i)"
          class="hover:text-danger"
        >
          <mat-icon>close</mat-icon>
        </button>
      </mat-list-item>
      <mat-divider class="last:mb-6"></mat-divider>
    </ng-container>
  </mat-list>

  <button
    mat-raised-button
    color="accent"
    (click)="submitForm(); log()"
    class="p-6"
  >
    Upload model
  </button>
</form>
